<div class="container">
    <img class="cover-art" src={{album.art}}>
    <p>{{album.title}} <span *ngIf="album.year">({{album.year}})</span></p>
    <p *ngIf="album.artist">{{album.artist}}</p>
    <div *ngFor="let track of album.tracks; index as i">
        <div class="track clickable" 
            (click)="loadNewSong(i, true)" 
            [ngClass]="{'current-song' : indexOfSongPlaying === i}">
            {{i+1}} {{track.title}}
        </div>
    </div>

    <div class="player-time-slider">
        <ngx-slider 
            [(value)]="sliderPosition" 
            [options]="sliderOptions" 
            (userChangeStart)="onSliderDragStart()"
            (userChange)="onSliderDragging($event)"
            (userChangeEnd)="onSliderDragEnd($event)"></ngx-slider>
    
        <div class="time-numbers">
            <div>{{currentTime}}</div>
            <div>{{totalTime}}</div>
        </div>
    </div>

    <div class="player-buttons">
        <audio #audio preload></audio>

        <div class="clickable" (click)="onShuffleClicked()">
            <span class="material-icons shuffle-mode" [ngClass]="{'mode-enabled': shuffleEnabled}">
                shuffle
            </span>
        </div>

        <div class="clickable" (click)="onPreviousClicked()">
            <span class="material-icons previous-next-song">skip_previous</span>
        </div>

        <div class="clickable" (click)="onPlayPauseClicked()">
            <span class="material-icons pauseplay">
                {{ isPlaying ? 'pause' : 'play_arrow' }}
            </span>
        </div>

        <div class="clickable" (click)="onNextClicked()">
            <span class="material-icons previous-next-song">skip_next</span>
        </div>

        <div class="clickable" (click)="onRepeatClicked()">
            <span class="material-icons repeat-mode" [ngClass]="{'mode-enabled': repeatMode != RepeatMode.DontRepeat}">
                {{ repeatMode === RepeatMode.RepeatOne ? 'repeat_one' : 'repeat' }}
            </span>
        </div>

    </div>

</div>